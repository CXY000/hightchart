<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<link rel="icon" href="https://static.jianshukeji.com/highcharts/images/favicon.ico">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<title>基础直线图</title>
		<script src="https://img.hcharts.cn/highcharts/highcharts.js"></script>
		<script src="https://img.hcharts.cn/highcharts/modules/exporting.js"></script>
		<script src="https://img.hcharts.cn/highcharts/modules/series-label.js"></script>
		<script src="https://img.hcharts.cn/highcharts/modules/oldie.js"></script>
		<script src="https://img.hcharts.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
		<script src="js/jquery-1.8.3.min.js"></script>
	</head>

	<body>
		<!--
*************************************************************************
    Generated by JShare at 2018-07-13 17:28:20
    From: https://code.hcharts.cn/demos/hhhhxL
*************************************************************************
-->
		<div id="container" style="max-width:800px;height:400px"></div>
		<div id="containerd" style="max-width:800px;height:400px"></div>
		<script>
//			var chart = null;
			$(document).ready(function() {
				
				$.ajax({
				    url: 'a.json',
				    type: 'GET',
				    success: function(point) {
				    	console.log(point);
						aa(point);
				      // 一秒后继续调用本函数
	//			      setTimeout(requestData, 1000);
//					判断code值
//					if(point.code == 200){
//						console.log(point);
//						aa(point);
//					}else{
//						alert("数据加载失败");
//					}
				   },
				    cache: false
			  	});
				
				function aa(point){
					
				
						Highcharts.chart('container', {
											
						title: {
							text: '2010 ~ 2016 年太阳能行业就业人员发展情况'
						},
						subtitle: {
							text: '数据来源：thesolarfoundation.com'
						},
						yAxis: {
							title: {
								text: '就业人数'
							}
						},
						legend: {
							layout: 'vertical',
							align: 'right',
							verticalAlign: 'middle'
						},
						plotOptions: {
							series: {
								label: {
									connectorAllowed: false
								},
								pointStart: 2010
							}
						},
						series: point.series,
						responsive: {
							rules: [{
								condition: {
									maxWidth: 500
								},
								chartOptions: {
									legend: {
										layout: 'horizontal',
										align: 'center',
										verticalAlign: 'bottom'
									}
								}
							}]
						}
					})
				}
			});
//			function requestData() {
//			  $.ajax({
//			    url: 'a.json',
//			    type: 'GET',
//			    success: function(point) {
//			    //alert(point);
//			    console.log(point);
////			    $.each(point, function(i,item) {
////			    	console.log(item);
////			    	console.log(i);
////			    });
////			      var series = chart.series[0],
////			        shift = series.data.length > 20; // 当数据点数量超过 20 个，则指定删除第一个点
//			
//			      // 新增点操作
//			      //具体的参数详见：https://api.hcharts.cn/highcharts#Series.addPoint
//			      chart.series[0].addPoint(point, true, false);
////console.log(chart);
//				
//			      // 一秒后继续调用本函数
////			      setTimeout(requestData, 1000);
//			    },
//			    cache: false
//			  });
////			}

		</script>

	</body>

</html>